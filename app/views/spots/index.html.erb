  <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css" type="text/css">

  <%= link_to profile_path do %>
    <% if @user.photo.attached? %>
      <div class="avatar-profile-search">
        <%= cl_image_tag @user.photo.key,  width: 40, height: 40%>
      </div>
    <% else %>
        <div class="avatar-profile-search">
          <%= image_tag "data:image/jpeg;base64,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", height: 40, width: 40, crop: :fill, class: "avatar dropdown-toggle", id: "navbarDropdown", data: { bs_toggle: "dropdown" }, 'aria-haspopup': true, 'aria-expanded': false %>
      </div>
    <% end %>
  <% end %>

<div style="position: relative;">

  <div style="width: 100vw; height: 100vh;"
    data-controller="map"
    id="map"
    data-map-markers-value="<%= @markers.to_json %>"
    data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>

  <%= link_to root_path do %>
    <div class="round-button">
      <div class="circle-back">
      </div>
      <svg width="10" height="17" viewBox="0 0 10 17" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 16L1 8.5L9 1" stroke="#4F3A57" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  <% end %>

  <%# <div style="position: absolute; top:15px;left:50px;"> %>
      <%# <% if @user.photo.attached? %>
        <%# <%= link_to @user.photo.key, profile_path %>
      <%# <% else %>
      <%# <%= link_to "ðŸ™‹", profile_path, class:"text-decoration-none" %>
    <%# <% end %>
  <%# </div> %>

  <%# <%= render "spots_carousel", spots: @spots %>
</div>
